(()=>{var e={};e.id=354,e.ids=[354],e.modules={1917:(e,r,t)=>{Promise.resolve().then(t.bind(t,72481))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},22975:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(60687),n=t(43210),a=t(16189),i=t(85814),o=t.n(i),l=t(28559),d=t(41862),c=t(82566);function m(){let e=(0,a.useRouter)(),[r,i]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null);async function p(r){i(!0),u(null);try{let{app:s,db:n,error:a}=await (0,c.G)();if(a||!s||!n)throw Error(`Failed to initialize Firebase and Firestore: ${a?.message||"Unknown error"}`);let{collection:o,addDoc:l}=await Promise.all([t.e(728),t.e(535)]).then(t.bind(t,75535)),d=r.get("title"),m=r.get("excerpt"),p=r.get("content"),x=r.get("category"),g=r.get("imageUrl")||"/placeholder.svg?height=300&width=400",h=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(!d||!m||!p||!x){u({type:"error",text:"All fields are required"}),i(!1);return}let b=d.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();await l(o(n,"news"),{title:d,excerpt:m,content:p,category:x,imageUrl:g,date:h,slug:b}),await fetch("/api/revalidate?path=/news"),await fetch("/api/revalidate?path=/"),u({type:"success",text:"Article added successfully"}),setTimeout(()=>{e.push("/news")},1500)}catch(e){console.error("Error adding article:",e),u({type:"error",text:"Failed to add article. Please try again."})}finally{i(!1)}}return(0,s.jsxs)("div",{className:"relative min-h-screen",children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0 bg-grid-pattern"}),(0,s.jsx)("main",{className:"relative z-10 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(o(),{href:"/admin",className:"inline-flex items-center text-amber-400 hover:text-amber-300",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),(0,s.jsxs)("div",{className:"bg-black/30 rounded-lg border border-gray-800 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-amber-400 mb-6",children:"Add New Article"}),m&&(0,s.jsx)("div",{className:`p-4 mb-6 rounded-md ${"success"===m.type?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:m.text}),(0,s.jsxs)("form",{action:p,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",required:!0,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Category"}),(0,s.jsx)("input",{type:"text",id:"category",name:"category",required:!0,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"excerpt",className:"block text-sm font-medium mb-1",children:"Excerpt"}),(0,s.jsx)("textarea",{id:"excerpt",name:"excerpt",rows:3,required:!0,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium mb-1",children:"Content (HTML)"}),(0,s.jsx)("textarea",{id:"content",name:"content",rows:10,required:!0,className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"You can use HTML tags for formatting (e.g., <p>, <h2>, <strong>)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"imageUrl",className:"block text-sm font-medium mb-1",children:"Image URL"}),(0,s.jsx)("input",{type:"text",id:"imageUrl",name:"imageUrl",placeholder:"/placeholder.svg?height=300&width=400",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty to use a placeholder image"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)(o(),{href:"/admin",className:"px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-amber-500 text-black rounded-md font-medium hover:bg-amber-400 transition-colors disabled:opacity-70 flex items-center",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Article"})]})]})]})]})})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29533:(e,r,t)=>{Promise.resolve().then(t.bind(t,22975))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},43832:(e,r,t)=>{Promise.resolve().then(t.bind(t,53311))},44504:(e,r,t)=>{Promise.resolve().then(t.bind(t,48825))},48825:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var s=t(60687);t(43210);var n=t(16189),a=t(45126),i=t(92606);function o({children:e}){let{isAuthenticated:r,isLoading:t}=(0,a.A)();return((0,n.useRouter)(),t)?(0,s.jsx)(i.A,{message:"Checking authentication..."}):r?(0,s.jsx)(s.Fragment,{children:e}):null}},53311:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mevin\\\\Downloads\\\\magnumnews\\\\components\\\\auth-guard.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mevin\\Downloads\\magnumnews\\components\\auth-guard.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72481:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\mevin\\\\Downloads\\\\magnumnews\\\\app\\\\admin\\\\add-news\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\mevin\\Downloads\\magnumnews\\app\\admin\\add-news\\page.tsx","default")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},76091:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(65239),n=t(48088),a=t(88170),i=t.n(a),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["admin",{children:["add-news",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72481)),"C:\\Users\\mevin\\Downloads\\magnumnews\\app\\admin\\add-news\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,97786)),"C:\\Users\\mevin\\Downloads\\magnumnews\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\mevin\\Downloads\\magnumnews\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\mevin\\Downloads\\magnumnews\\app\\admin\\add-news\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/add-news/page",pathname:"/admin/add-news",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82566:(e,r,t)=>{"use strict";t.d(r,{G:()=>n});let s={apiKey:"AIzaSyC84Fku9yGNXNi8G6uabDn4eukfb7LLQqo",authDomain:"magnum-news-1d34e.firebaseapp.com",projectId:"magnum-news-1d34e",storageBucket:"magnum-news-1d34e.appspot.com",messagingSenderId:"731391931325",appId:"1:731391931325:web:668465a5d2b25fcdee18d4",measurementId:"G-QKG7D7JFDC"};async function n(){try{let{initializeApp:e,getApps:r,getApp:n}=await Promise.all([t.e(728),t.e(989)]).then(t.bind(t,67989));await Promise.all([t.e(728),t.e(535)]).then(t.bind(t,75535));let a=0===r().length?e(s):n(),{getFirestore:i}=await Promise.all([t.e(728),t.e(535)]).then(t.bind(t,75535)),o=i(a);return{app:a,db:o,error:null}}catch(e){return console.error("Error initializing Firebase and Firestore:",e),{app:null,db:null,error:e}}}},91645:e=>{"use strict";e.exports=require("net")},92606:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(60687),n=t(41862);function a({message:e="Loading..."}){return(0,s.jsxs)("div",{className:"relative min-h-screen",children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0 bg-grid-pattern"}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsx)(n.A,{className:"h-8 w-8 animate-spin text-amber-400 mb-4"}),(0,s.jsx)("p",{className:"text-xl",children:e})]})]})}},94735:e=>{"use strict";e.exports=require("events")},97786:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(37413),n=t(53311),a=t(44999);async function i({children:e}){return"/admin/login"===((await (0,a.b3)()).get("x-pathname")||"")?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsx)(n.default,{children:e})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[589,496,366,786],()=>t(76091));module.exports=s})();